---
interface Props {
    src?: string;
    alt?: string;
    caption?: string;
}
const { src, alt = "Image", caption } = Astro.props;
---
<div class="image-block">
    {src ? (
        <img src={src} alt={alt} loading="lazy" />
    ) : (
        <div class="image-placeholder">
            <span class="placeholder-icon">&#128247;</span>
            <span>{alt}</span>
        </div>
    )}
    {caption && <div class="image-caption">{caption}</div>}
</div>

<style>
    .image-block {
        margin: 1.2rem 0;
        border-radius: 8px;
        overflow: hidden;
        background-color: #f0efeb;
        border: 1px solid #e2e2e2;
    }

    .image-block img {
        width: 100%;
        display: block;
    }

    .image-placeholder {
        width: 100%;
        aspect-ratio: 16 / 9;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        gap: 8px;
        color: #78776d;
        font-size: 0.9rem;
    }

    .placeholder-icon {
        font-size: 3rem;
        opacity: 0.5;
    }

    .image-caption {
        padding: 0.6rem 1rem;
        font-size: 0.82rem;
        color: #595959;
        background: #f5f4f0;
        text-align: center;
        font-style: italic;
    }
</style>
