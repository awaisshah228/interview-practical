{
  "id": "ajax_intro",
  "title": "JS AJAX Introduction",
  "group": "JS AJAX",
  "content": [
    { "type": "h1", "text": "JavaScript AJAX Introduction" },
    { "type": "p", "text": "AJAX stands for Asynchronous JavaScript And XML. It is a technique for loading data from a server without refreshing the entire page. AJAX enables web pages to update content dynamically, creating a smoother user experience." },

    { "type": "h2", "text": "What is AJAX?" },
    { "type": "p", "text": "AJAX is not a programming language or a single technology. It is a combination of technologies (HTML, CSS, JavaScript, XMLHttpRequest/fetch, and a server) used together to exchange data with a server asynchronously." },
    { "type": "example", "title": "AJAX Concept", "code": [
      "// Traditional web: click link -> full page reload",
      "// AJAX: request data -> update part of the page",
      "",
      "console.log('Traditional Flow:');",
      "console.log('1. User clicks');",
      "console.log('2. Request sent to server');",
      "console.log('3. Server sends FULL page');",
      "console.log('4. ENTIRE page reloads');",
      "",
      "console.log('\\nAJAX Flow:');",
      "console.log('1. User clicks');",
      "console.log('2. JS sends request in background');",
      "console.log('3. Server sends only needed data');",
      "console.log('4. JS updates only the changed part');"
    ]},

    { "type": "h2", "text": "XMLHttpRequest vs Fetch" },
    { "type": "p", "text": "There are two main ways to make AJAX requests: the older XMLHttpRequest (XHR) and the newer Fetch API. Both achieve the same goal but with different syntax." },
    { "type": "table", "rows": [
      ["Feature", "XMLHttpRequest", "Fetch API"],
      ["Introduced", "1999 (IE5)", "2015 (ES6)"],
      ["Syntax", "Callback-based", "Promise-based"],
      ["Streaming", "No", "Yes (ReadableStream)"],
      ["Abort", "xhr.abort()", "AbortController"],
      ["Progress events", "Yes (onprogress)", "Limited"],
      ["Browser support", "All browsers", "Modern browsers"]
    ]},
    { "type": "example", "title": "XHR vs Fetch Comparison", "code": [
      "// XMLHttpRequest approach",
      "// const xhr = new XMLHttpRequest();",
      "// xhr.open('GET', 'https://api.example.com/data');",
      "// xhr.onload = function() {",
      "//   console.log(xhr.responseText);",
      "// };",
      "// xhr.send();",
      "",
      "// Fetch approach",
      "// fetch('https://api.example.com/data')",
      "//   .then(response => response.json())",
      "//   .then(data => console.log(data));",
      "",
      "console.log('XHR: More verbose, callback-based');",
      "console.log('Fetch: Cleaner, promise-based');",
      "console.log('Both make HTTP requests without page reload');"
    ]},

    { "type": "h2", "text": "How AJAX Works" },
    { "type": "p", "text": "The AJAX process involves creating a request object, configuring it, sending the request, and handling the response. This all happens asynchronously in the background." },
    { "type": "example", "title": "AJAX Workflow", "code": [
      "// Step-by-step AJAX process:",
      "// 1. An event triggers the request (click, load, etc.)",
      "// 2. JavaScript creates an XMLHttpRequest or fetch call",
      "// 3. The request is sent to the server",
      "// 4. The server processes the request",
      "// 5. The server sends back a response",
      "// 6. JavaScript reads the response",
      "// 7. JavaScript updates the page",
      "",
      "// Simulating AJAX workflow",
      "function simulateAjax(url) {",
      "  console.log('1. Event triggered');",
      "  console.log('2. Creating request to: ' + url);",
      "  console.log('3. Sending request...');",
      "",
      "  // Simulate async response",
      "  setTimeout(function() {",
      "    const data = { message: 'Data received!' };",
      "    console.log('4. Server processed request');",
      "    console.log('5. Response received: ' + JSON.stringify(data));",
      "    console.log('6. Updating page content');",
      "  }, 100);",
      "",
      "  console.log('   (Page remains responsive!)');",
      "}",
      "",
      "simulateAjax('/api/data');"
    ]},

    { "type": "h2", "text": "Common Use Cases" },
    { "type": "p", "text": "AJAX is used extensively in modern web applications. Almost any time a page updates without a full reload, AJAX is involved." },
    { "type": "example", "title": "Real-World AJAX Examples", "code": [
      "// Common AJAX use cases:",
      "const useCases = [",
      "  'Search autocomplete (typing suggestions)',",
      "  'Infinite scroll (loading more content)',",
      "  'Form validation (checking username availability)',",
      "  'Live chat messages',",
      "  'Shopping cart updates',",
      "  'Social media feeds (new posts)',",
      "  'Email checking (new mail notifications)',",
      "  'Map data loading (Google Maps tiles)'",
      "];",
      "",
      "useCases.forEach(function(useCase, index) {",
      "  console.log((index + 1) + '. ' + useCase);",
      "});"
    ]},

    { "type": "h2", "text": "JSON with AJAX" },
    { "type": "p", "text": "While AJAX originally used XML (hence the name), modern AJAX almost exclusively uses JSON for data exchange. JSON is lighter, easier to parse, and natively supported in JavaScript." },
    { "type": "example", "title": "AJAX with JSON Data", "code": [
      "// Server returns JSON data",
      "const serverResponse = '{\"users\": [{\"id\": 1, \"name\": \"Alice\"}, {\"id\": 2, \"name\": \"Bob\"}]}';",
      "",
      "// Parse the JSON response",
      "const data = JSON.parse(serverResponse);",
      "",
      "// Use the data to update the page",
      "console.log('Users loaded: ' + data.users.length);",
      "data.users.forEach(function(user) {",
      "  console.log('ID: ' + user.id + ', Name: ' + user.name);",
      "  // In real app: append to DOM",
      "  // element.innerHTML += '<li>' + user.name + '</li>';",
      "});",
      "",
      "// Sending JSON data to server",
      "const newUser = { name: 'Charlie', email: 'charlie@example.com' };",
      "console.log('Sending: ' + JSON.stringify(newUser));"
    ]},

    { "type": "note", "text": "Despite the name containing 'XML', modern AJAX almost always uses JSON instead of XML. The term AJAX is kept for historical reasons. The Fetch API is the recommended way to make AJAX requests in modern JavaScript, though XMLHttpRequest is still widely used in legacy code." },

    { "type": "exercise", "question": "What does AJAX stand for?", "options": ["Asynchronous JavaScript And XML", "Advanced JavaScript And XHTML", "Automated JavaScript And XML", "Asynchronous JSON And XML"], "answer": 0 }
  ]
}
