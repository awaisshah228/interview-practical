{
  "id": "json_intro",
  "title": "JS JSON Introduction",
  "group": "JS JSON",
  "content": [
    { "type": "h1", "text": "JavaScript JSON Introduction" },
    { "type": "p", "text": "JSON (JavaScript Object Notation) is a lightweight data-interchange format. It is easy for humans to read and write, and easy for machines to parse and generate. JSON is the most common format for data exchange in web applications." },

    { "type": "h2", "text": "What is JSON?" },
    { "type": "p", "text": "JSON is a text format for storing and transporting data. Despite its name, JSON is language-independent and is used by many programming languages, not just JavaScript." },
    { "type": "example", "title": "JSON Example", "code": [
      "// A JSON string",
      "const jsonString = '{\"name\": \"Alice\", \"age\": 30, \"city\": \"New York\"}';",
      "console.log('JSON string: ' + jsonString);",
      "console.log('Type: ' + typeof jsonString);",
      "",
      "// Parse it to a JavaScript object",
      "const obj = JSON.parse(jsonString);",
      "console.log('Name: ' + obj.name);",
      "console.log('Age: ' + obj.age);",
      "console.log('City: ' + obj.city);"
    ]},

    { "type": "h2", "text": "JSON Syntax Rules" },
    { "type": "p", "text": "JSON has strict syntax rules that must be followed. Unlike JavaScript objects, JSON requires double quotes around keys and string values." },
    { "type": "example", "title": "JSON Syntax", "code": [
      "// Valid JSON",
      "const validJSON = '{\"name\": \"Bob\", \"active\": true, \"score\": 95}';",
      "console.log('Valid: ' + validJSON);",
      "",
      "// JSON syntax rules:",
      "// 1. Keys must be double-quoted strings",
      "// 2. String values must use double quotes",
      "// 3. No trailing commas",
      "// 4. No comments allowed",
      "// 5. No single quotes",
      "",
      "// Invalid JSON examples:",
      "// {name: \"Bob\"}        - keys not quoted",
      "// {'name': 'Bob'}       - single quotes",
      "// {\"name\": \"Bob\",}    - trailing comma",
      "",
      "const parsed = JSON.parse(validJSON);",
      "console.log('Parsed name: ' + parsed.name);",
      "console.log('Parsed active: ' + parsed.active);"
    ]},

    { "type": "h2", "text": "JSON Data Types" },
    { "type": "p", "text": "JSON supports a limited set of data types. Understanding which types are valid in JSON is important for proper serialization." },
    { "type": "table", "rows": [
      ["Data Type", "JSON Example", "Notes"],
      ["String", "\"hello\"", "Must use double quotes"],
      ["Number", "42, 3.14, -10", "No NaN, Infinity, or hex"],
      ["Boolean", "true, false", "Lowercase only"],
      ["null", "null", "Lowercase only"],
      ["Array", "[1, 2, 3]", "Ordered list of values"],
      ["Object", "{\"key\": \"value\"}", "Key-value pairs"],
      ["undefined", "NOT VALID", "Not supported in JSON"],
      ["Function", "NOT VALID", "Not supported in JSON"],
      ["Date", "NOT VALID (use string)", "Store as ISO string"]
    ]},
    { "type": "example", "title": "JSON Data Types", "code": [
      "const data = {",
      "  string: 'Hello',",
      "  number: 42,",
      "  float: 3.14,",
      "  boolean: true,",
      "  nullValue: null,",
      "  array: [1, 2, 3],",
      "  object: { nested: true }",
      "};",
      "",
      "const json = JSON.stringify(data, null, 2);",
      "console.log(json);"
    ]},

    { "type": "h2", "text": "JSON vs JavaScript Objects" },
    { "type": "p", "text": "JSON looks similar to JavaScript object literals, but there are important differences. JSON is a text format (a string), while a JavaScript object is a data structure in memory." },
    { "type": "example", "title": "JSON String vs JS Object", "code": [
      "// JavaScript object (in memory)",
      "const jsObject = {",
      "  name: 'Alice',",
      "  greet() { return 'Hi!'; }",
      "};",
      "",
      "// JSON string (text format)",
      "const jsonStr = '{\"name\": \"Alice\"}';",
      "",
      "console.log('JS Object type: ' + typeof jsObject);",
      "console.log('JSON string type: ' + typeof jsonStr);",
      "console.log('JS Object name: ' + jsObject.name);",
      "console.log('JSON parse name: ' + JSON.parse(jsonStr).name);",
      "",
      "// Functions cannot be in JSON",
      "const withFunc = { name: 'Bob', greet: function() {} };",
      "console.log('Stringified: ' + JSON.stringify(withFunc));",
      "// greet function is omitted!"
    ]},

    { "type": "h2", "text": "JSON in APIs and MIME Type" },
    { "type": "p", "text": "JSON is the standard format for web APIs. When sending or receiving JSON data, the correct MIME type (Content-Type header) is application/json." },
    { "type": "example", "title": "JSON in API Communication", "code": [
      "// Typical API response (as JSON string)",
      "const apiResponse = JSON.stringify({",
      "  status: 'success',",
      "  data: {",
      "    users: [",
      "      { id: 1, name: 'Alice' },",
      "      { id: 2, name: 'Bob' }",
      "    ]",
      "  },",
      "  total: 2",
      "});",
      "",
      "console.log('API Response: ' + apiResponse);",
      "",
      "// Parsing the response",
      "const result = JSON.parse(apiResponse);",
      "console.log('Status: ' + result.status);",
      "console.log('Total users: ' + result.total);",
      "result.data.users.forEach(function(user) {",
      "  console.log('User: ' + user.name);",
      "});",
      "",
      "// MIME type: application/json",
      "console.log('Content-Type: application/json');"
    ]},

    { "type": "note", "text": "JSON was derived from JavaScript object notation syntax but is now language-independent. Its official MIME type is application/json and the file extension is .json. Always validate JSON data from external sources before using it." },

    { "type": "exercise", "question": "Which of the following is NOT a valid JSON data type?", "options": ["String", "Number", "undefined", "null"], "answer": 2 }
  ]
}
